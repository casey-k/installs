#!/usr/bin/env bash

##
# Adds a shell to the list of the legit shells
##
add_shell() {
    new_shell=$1

    local shell_path="$(brew --prefix ${new_shell})/bin/${new_shell}"
    [[ -n "$(grep "${shell_path}" /private/etc/shells)" ]] || sudo bash -c "echo "${shell_path}" >> /private/etc/shells"

##
# Installs bash and adds the new shell to the list of legit shells
##
install_bash() {
    brew install bash

    echo "Install script adding Bash 4.x to /etc/shells ..."
    add_shell bash
}

##
# Installs ZSH and adds the new shell to the list of legit shells
##
install_zsh() {
    brew install zsh

    echo "Install script adding brew's ZSH to /etc/shells ..."
    add_shell zsh
}

install_bash
install_zsh

